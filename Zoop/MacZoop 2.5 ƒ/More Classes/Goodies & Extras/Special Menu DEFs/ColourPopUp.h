/****************************************************************************************************			MacZoop - "the framework for the rest of us"			 ****			ColourPopUp.h			-- high level functions for handling colour picker pop-ups******			© 1994, Graham Cox (created 15/7/94, modified for MacZoop 97-99)*****************************************************************************************************/#ifndef __COLOURPOPUP__#define __COLOURPOPUP__#include	<Controls.h>#include	<Menus.h>#if PRAGMA_ALIGN_SUPPORTED#pragma options align=mac68k#endif// this structure used to pass info through Menu Manager to PalMDEF function. Note that as far// as the MM is concerned, it looks like a standard MenuRecord, but we know better, having// added special fields beyond the standard ones. Warning: do not mix up this and standard// MenuHandles- this works ONLY with PalMDEF, and standard ones work only with system MDEF.#if TARGET_API_MAC_CARBON// under carbon, a new MDEF mechanism is used, and all associated code is adjusted to use this// private record instead:typedef struct{    MenuRef         theMenu;    CTabHandle      menuColours;    short           initIndex;}CPMenuRecord, *CPMenuPtr, **CPMenuHandle;#elsetypedef struct{	MenuInfo		menuRecord;	CTabHandle		menuColours;	long			menuRefCon;	short			initIndex;	Boolean			allowTearOff;}CPMenuRecord, *CPMenuPtr, **CPMenuHandle;#endif#if PRAGMA_ALIGN_SUPPORTED#pragma options align= reset#endif#ifdef __cplusplusextern "C" {#endif// convenience & high level functions:CPMenuHandle	NewColourMenu( short menuID, CTabHandle aCTab );void			DisposeColourMenu( CPMenuHandle aCMenu );long			PopUpColourTable( Point location, CTabHandle aCTable, RGBColor *selectedColour, short initialItem );long			PopUpColourPalette( Point location, short cTableID, RGBColor *selectedColour, short initialItem );void			DrawStandardColourSelector( Rect *bounds, RGBColor *theColour );void			InvertStandardColourSelector( Rect *bounds );void			SetTearable( CPMenuHandle aCMenu, Boolean canBeTorn );// MDEF stuff:extern pascal void	PalMDEFFunction( short message, MenuHandle theMenu,							Rect *menuRect, Point hitPt, short *whichItem );extern void	CalcCPMenuSize( MenuHandle theMenu, short chipsH, short chipsV );extern void CalcPopupMenuSize( Point hitPt, short item, Rect *mRect, short chipsH, short chipsV );extern void DrawCPMenu( MenuHandle theMenu, Rect *mBounds, short chipsH, short chipsV, short initItem, CTabHandle colours );extern void ChooseCPMenuItem( MenuHandle theMenu, short *theItem, Rect *mBounds, Point mHit, short chipsH, short chipsV );#ifdef __cplusplus}#endifenum{	kColourPopUpMenuID		= 1066};extern RGBColor	gCurrentPopUpColour;#endif