/****************************************************************************************************			ObjectMacZapp			-- a standard Mac OOP application template****			ZCalendarDialogItem.h	-- a dialog item that displays an interactive calendar******			© 1996, Graham Cox*****************************************************************************************************/#pragma once#ifndef __ZCALENDARDIALOGITEM__#define __ZCALENDARDIALOGITEM__#include	"ZDialogItem.h"class	ZCalendarDialogItem : public ZDialogItem{protected:	short			year;			// current year displayed, 1904-2040	short			month;			// current month displayed	1-12	short			cellH;			// width of cell	short			cellV;			// height of cell	short			itl1ResID;		// resource ID of current itl1 resource	Point			dayCell;		// current day's cell	Rect			hotLeft;		// hotspot for going to the previous month	Rect			hotRight;		// hotspot for going to the next month	Boolean			mondayIsDay1;	// TRUE if weeks starts on Monday, not Sunday	DateTimeRec		selDate;		// date selected (hilited)	public:		ZCalendarDialogItem( ZDialog* aBoss, const short anID );	~ZCalendarDialogItem();// overrides:	virtual void		Draw();	virtual void		DrawItem();	virtual void		Click( const Point hitPos, const short modifiers );	virtual void		InitItem( const short paramCount, const long params[] );    virtual void        Type( const char theKey, const short modifiers );    // calendar specific:	virtual void		SetCalendar( const short aYear, const short aMonth, const Boolean reDraw = TRUE );	inline	void		GetSelectedDate( DateTimeRec* dt ) { *dt = selDate; };protected:	virtual short		CellToDay( const short cellx, const short celly, DateTimeRec* dtr = NULL );	virtual Boolean		ClickHots( Point hitPos );	virtual void		DrawArrowIcon( const short which, const Boolean state );	virtual Boolean		TrackArrowIcon( const Point hitPt, const short which);	virtual void		CalcCalendarFrame( Rect* toFit );	virtual void		HiliteCell( Point aCell );	virtual Boolean		SelectionVisible( Boolean recompute = FALSE );	virtual void        ChangeSelection( Point toCell );	virtual void        SetNextMonth();	virtual void        SetPreviousMonth();}; #define		kCellsAcross		7#define		kCellsDown			6#define		kTitleAreaHeight	30#define		kSecondsIn1Day		86400L	// 24 * 60 * 60#define		kNewDaySelected		'day+'#define		kNewMonthSelected	'mnth'#define		kNewYearSelected	'year'#define		kIconArrowWidth		4#define		kIconArrowHeight	7enum{	kMagicStringCalendarItem	= 'DCAL'};#endif